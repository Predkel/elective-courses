2016-09-11 12:54:59,198 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:54:59,217 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68e5eea7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291b4bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d2ffcb7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@762ef0ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@31f9b85e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@424e1977, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@10d68fcd]
2016-09-11 12:54:59,224 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:54:59,225 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2898ac89, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@683dbc2c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@68267da0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2638011, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6ff29830, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a2b953e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@313b2ea6]
2016-09-11 12:54:59,229 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:54:59,230 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5609159b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2118cddf, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@17a7f733, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68567e20, org.springframework.test.context.transaction.TransactionalTestExecutionListener@76ed1b7c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@11fc564b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@394a2528]
2016-09-11 12:55:00,271 INFO  - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:55:00 EET 2016]; root of context hierarchy
2016-09-11 12:55:00,732 INFO  - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:55:00,733 INFO  - Overriding bean definition for bean 'ehCacheManagerFactoryBean' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=ehCacheManagerFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=ehCacheManagerFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:55:00,733 INFO  - Overriding bean definition for bean 'sessionFactoryBean' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=sessionFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=sessionFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:55:00,734 INFO  - Overriding bean definition for bean 'cacheManager' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=cacheManager; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=cacheManager; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:55:00,937 INFO  - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-09-11 12:55:01,319 INFO  - Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2016-09-11 12:55:01,492 INFO  - Executing SQL script from class path resource [courses-ddl.sql]
2016-09-11 12:55:01,573 INFO  - Executed SQL script from class path resource [courses-ddl.sql] in 81 ms.
2016-09-11 12:55:01,573 INFO  - Executing SQL script from class path resource [courses-data.sql]
2016-09-11 12:55:01,583 INFO  - Executed SQL script from class path resource [courses-data.sql] in 10 ms.
2016-09-11 12:55:01,775 INFO  - HHH000412: Hibernate Core {5.0.7.Final}
2016-09-11 12:55:01,777 INFO  - HHH000206: hibernate.properties not found
2016-09-11 12:55:01,779 INFO  - HHH000021: Bytecode provider name : javassist
2016-09-11 12:55:01,831 INFO  - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-09-11 12:55:01,988 INFO  - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2016-09-11 12:55:02,658 INFO  - HV000001: Hibernate Validator 5.2.2.Final
2016-09-11 12:55:03,895 INFO  - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@260e3837, org.springframework.security.web.context.SecurityContextPersistenceFilter@10980560, org.springframework.security.web.header.HeaderWriterFilter@6acffb2d, org.springframework.security.web.authentication.logout.LogoutFilter@5a622fe8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70716259, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19b07407, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1953bc95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@88b76f2, org.springframework.security.web.session.SessionManagementFilter@f2d890c, org.springframework.security.web.access.ExceptionTranslationFilter@4d98e41b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d3c112a]
2016-09-11 12:55:04,502 INFO  - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:55:00 EET 2016]; root of context hierarchy
2016-09-11 12:55:04,622 INFO  - Mapped URL path [/js/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2016-09-11 12:55:04,648 INFO  - Detected @ExceptionHandler methods in exceptionHandlerAdvice
2016-09-11 12:55:04,690 INFO  - Mapped "{[/courses/count],methods=[GET],produces=[text/plain]}" onto public java.lang.String by.it.academy.adorop.web.controllers.CourseController.getCount()
2016-09-11 12:55:04,691 INFO  - Mapped "{[/courses],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<java.util.List<by.it.academy.adorop.model.Course>> by.it.academy.adorop.web.controllers.CourseController.getBunch(int,int)
2016-09-11 12:55:04,692 INFO  - Mapped "{[/courses],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.CourseController.createNew(by.it.academy.adorop.model.Course,org.springframework.validation.Errors)
2016-09-11 12:55:04,692 INFO  - Mapped "{[/login],methods=[GET]}" onto public java.lang.String by.it.academy.adorop.web.controllers.LoginController.login()
2016-09-11 12:55:04,700 INFO  - Mapped "{[/marks],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<java.lang.Void> by.it.academy.adorop.web.controllers.MarkController.update(by.it.academy.adorop.model.Mark,org.springframework.validation.Errors)
2016-09-11 12:55:04,701 INFO  - Mapped "{[/marks],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.MarkController.createNew(by.it.academy.adorop.model.Mark,org.springframework.validation.Errors)
2016-09-11 12:55:04,701 INFO  - Mapped "{[/marks],methods=[GET],params=[courseId],produces=[application/json;charset=UTF-8]}" onto public java.util.List<by.it.academy.adorop.model.Mark> by.it.academy.adorop.web.controllers.MarkController.getBy(by.it.academy.adorop.model.Course)
2016-09-11 12:55:04,701 INFO  - Mapped "{[/marks],methods=[GET],params=[courseId && studentId],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.MarkController.getBy(by.it.academy.adorop.model.Course,by.it.academy.adorop.model.users.Student)
2016-09-11 12:55:04,703 INFO  - Mapped "{[/students],methods=[GET],produces=[text/html]}" onto public java.lang.String by.it.academy.adorop.web.controllers.StudentController.mainPage()
2016-09-11 12:55:04,704 INFO  - Mapped "{[/students],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.StudentController.createNew(by.it.academy.adorop.model.users.Student,org.springframework.validation.Errors)
2016-09-11 12:55:04,704 INFO  - Mapped "{[/students/current],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public U by.it.academy.adorop.web.controllers.AbstractUserController.getCurrent(U)
2016-09-11 12:55:04,706 INFO  - Mapped "{[/teachers],methods=[GET],produces=[text/html]}" onto public java.lang.String by.it.academy.adorop.web.controllers.TeacherController.main()
2016-09-11 12:55:04,706 INFO  - Mapped "{[/teachers],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.TeacherController.createNew(by.it.academy.adorop.model.users.Teacher,org.springframework.validation.Errors)
2016-09-11 12:55:04,707 INFO  - Mapped "{[/teachers/current],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public U by.it.academy.adorop.web.controllers.AbstractUserController.getCurrent(U)
2016-09-11 12:55:04,768 INFO  - Initializing EhCache CacheManager
2016-09-11 12:55:05,019 INFO  - Using DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@2b79c8ff] of Hibernate SessionFactory for HibernateTransactionManager
2016-09-11 12:55:05,252 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:05,253 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:05,280 INFO  - FrameworkServlet '': initialization completed in 27 ms
2016-09-11 12:55:05,535 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:05,561 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:05,561 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:05,564 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:05,583 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:05,583 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:05,586 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:05,616 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:05,616 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:05,619 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:05,881 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:05,882 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:05,885 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,012 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,012 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,015 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,044 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,044 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,051 INFO  - FrameworkServlet '': initialization completed in 7 ms
2016-09-11 12:55:06,168 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,168 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,173 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:55:06,311 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,312 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,320 INFO  - FrameworkServlet '': initialization completed in 8 ms
2016-09-11 12:55:06,336 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:06,349 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,349 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,352 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,402 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,402 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,438 INFO  - FrameworkServlet '': initialization completed in 36 ms
2016-09-11 12:55:06,458 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:06,463 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,463 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,466 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,512 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,513 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,516 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,551 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,552 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,554 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:55:06,588 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,588 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,590 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:55:06,608 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:06,615 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,615 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,619 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:55:06,641 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,641 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,643 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:55:06,662 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:06,672 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,672 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,675 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:55:06,692 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,692 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,696 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:55:06,728 ERROR - org.springframework.security.access.AccessDeniedException: Access is denied
2016-09-11 12:55:06,737 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,737 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,739 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:55:06,749 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,749 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,751 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:55:06,840 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,840 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,845 INFO  - FrameworkServlet '': initialization completed in 5 ms
2016-09-11 12:55:06,881 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,881 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,886 INFO  - FrameworkServlet '': initialization completed in 5 ms
2016-09-11 12:55:06,892 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:55:06,892 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:55:06,896 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:55:06,929 INFO  - Closing org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:55:00 EET 2016]; root of context hierarchy
2016-09-11 12:55:06,941 INFO  - Shutting down EhCache CacheManager
2016-09-11 12:55:06,951 INFO  - Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2016-09-11 12:56:11,052 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:56:11,072 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68e5eea7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@291b4bf5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2d2ffcb7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@762ef0ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@31f9b85e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@424e1977, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@10d68fcd]
2016-09-11 12:56:11,079 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:56:11,079 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2898ac89, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@683dbc2c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@68267da0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2638011, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6ff29830, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6a2b953e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@313b2ea6]
2016-09-11 12:56:11,086 INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-09-11 12:56:11,087 INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5609159b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2118cddf, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@17a7f733, org.springframework.test.context.support.DirtiesContextTestExecutionListener@68567e20, org.springframework.test.context.transaction.TransactionalTestExecutionListener@76ed1b7c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@11fc564b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@394a2528]
2016-09-11 12:56:12,122 INFO  - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:56:12 EET 2016]; root of context hierarchy
2016-09-11 12:56:12,764 INFO  - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:56:12,765 INFO  - Overriding bean definition for bean 'sessionFactoryBean' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=sessionFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=sessionFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:56:12,765 INFO  - Overriding bean definition for bean 'ehCacheManagerFactoryBean' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=ehCacheManagerFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=ehCacheManagerFactoryBean; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:56:12,765 INFO  - Overriding bean definition for bean 'cacheManager' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=by.it.academy.adorop.dao.config.PersistenceConfig; factoryMethodName=cacheManager; initMethodName=null; destroyMethodName=(inferred); defined in class by.it.academy.adorop.dao.config.PersistenceConfig] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=abstractIntegrationTest.TestPersistenceConfig; factoryMethodName=cacheManager; initMethodName=null; destroyMethodName=(inferred); defined in integration.by.it.academy.adorop.web.controllers.AbstractIntegrationTest$TestPersistenceConfig]
2016-09-11 12:56:12,972 INFO  - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-09-11 12:56:13,333 INFO  - Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2016-09-11 12:56:13,509 INFO  - Executing SQL script from class path resource [courses-ddl.sql]
2016-09-11 12:56:13,582 INFO  - Executed SQL script from class path resource [courses-ddl.sql] in 73 ms.
2016-09-11 12:56:13,582 INFO  - Executing SQL script from class path resource [courses-data.sql]
2016-09-11 12:56:13,598 INFO  - Executed SQL script from class path resource [courses-data.sql] in 16 ms.
2016-09-11 12:56:13,818 INFO  - HHH000412: Hibernate Core {5.0.7.Final}
2016-09-11 12:56:13,820 INFO  - HHH000206: hibernate.properties not found
2016-09-11 12:56:13,823 INFO  - HHH000021: Bytecode provider name : javassist
2016-09-11 12:56:13,892 INFO  - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-09-11 12:56:14,065 INFO  - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2016-09-11 12:56:14,696 INFO  - HV000001: Hibernate Validator 5.2.2.Final
2016-09-11 12:56:15,954 INFO  - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@260e3837, org.springframework.security.web.context.SecurityContextPersistenceFilter@10980560, org.springframework.security.web.header.HeaderWriterFilter@6acffb2d, org.springframework.security.web.authentication.logout.LogoutFilter@5a622fe8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70716259, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19b07407, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1953bc95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@88b76f2, org.springframework.security.web.session.SessionManagementFilter@f2d890c, org.springframework.security.web.access.ExceptionTranslationFilter@4d98e41b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d3c112a]
2016-09-11 12:56:16,464 INFO  - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:56:12 EET 2016]; root of context hierarchy
2016-09-11 12:56:16,574 INFO  - Mapped URL path [/js/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2016-09-11 12:56:16,605 INFO  - Detected @ExceptionHandler methods in exceptionHandlerAdvice
2016-09-11 12:56:16,656 INFO  - Mapped "{[/courses/count],methods=[GET],produces=[text/plain]}" onto public java.lang.String by.it.academy.adorop.web.controllers.CourseController.getCount()
2016-09-11 12:56:16,658 INFO  - Mapped "{[/courses],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<java.util.List<by.it.academy.adorop.model.Course>> by.it.academy.adorop.web.controllers.CourseController.getBunch(int,int)
2016-09-11 12:56:16,658 INFO  - Mapped "{[/courses],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.CourseController.createNew(by.it.academy.adorop.model.Course,org.springframework.validation.Errors)
2016-09-11 12:56:16,659 INFO  - Mapped "{[/login],methods=[GET]}" onto public java.lang.String by.it.academy.adorop.web.controllers.LoginController.login()
2016-09-11 12:56:16,666 INFO  - Mapped "{[/marks],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<java.lang.Void> by.it.academy.adorop.web.controllers.MarkController.update(by.it.academy.adorop.model.Mark,org.springframework.validation.Errors)
2016-09-11 12:56:16,666 INFO  - Mapped "{[/marks],methods=[GET],params=[courseId],produces=[application/json;charset=UTF-8]}" onto public java.util.List<by.it.academy.adorop.model.Mark> by.it.academy.adorop.web.controllers.MarkController.getBy(by.it.academy.adorop.model.Course)
2016-09-11 12:56:16,667 INFO  - Mapped "{[/marks],methods=[GET],params=[courseId && studentId],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.MarkController.getBy(by.it.academy.adorop.model.Course,by.it.academy.adorop.model.users.Student)
2016-09-11 12:56:16,667 INFO  - Mapped "{[/marks],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.MarkController.createNew(by.it.academy.adorop.model.Mark,org.springframework.validation.Errors)
2016-09-11 12:56:16,669 INFO  - Mapped "{[/students],methods=[GET],produces=[text/html]}" onto public java.lang.String by.it.academy.adorop.web.controllers.StudentController.mainPage()
2016-09-11 12:56:16,670 INFO  - Mapped "{[/students],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.StudentController.createNew(by.it.academy.adorop.model.users.Student,org.springframework.validation.Errors)
2016-09-11 12:56:16,670 INFO  - Mapped "{[/students/current],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public U by.it.academy.adorop.web.controllers.AbstractUserController.getCurrent(U)
2016-09-11 12:56:16,672 INFO  - Mapped "{[/teachers],methods=[GET],produces=[text/html]}" onto public java.lang.String by.it.academy.adorop.web.controllers.TeacherController.main()
2016-09-11 12:56:16,673 INFO  - Mapped "{[/teachers],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity by.it.academy.adorop.web.controllers.TeacherController.createNew(by.it.academy.adorop.model.users.Teacher,org.springframework.validation.Errors)
2016-09-11 12:56:16,673 INFO  - Mapped "{[/teachers/current],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public U by.it.academy.adorop.web.controllers.AbstractUserController.getCurrent(U)
2016-09-11 12:56:16,719 INFO  - Initializing EhCache CacheManager
2016-09-11 12:56:16,912 INFO  - Using DataSource [org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@2b79c8ff] of Hibernate SessionFactory for HibernateTransactionManager
2016-09-11 12:56:17,122 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,123 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,141 INFO  - FrameworkServlet '': initialization completed in 18 ms
2016-09-11 12:56:17,384 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,384 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,399 INFO  - FrameworkServlet '': initialization completed in 15 ms
2016-09-11 12:56:17,418 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,419 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,425 INFO  - FrameworkServlet '': initialization completed in 6 ms
2016-09-11 12:56:17,457 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,457 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,460 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:56:17,700 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,700 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,707 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:17,956 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:17,956 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:17,963 INFO  - FrameworkServlet '': initialization completed in 7 ms
2016-09-11 12:56:18,053 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,053 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,060 INFO  - FrameworkServlet '': initialization completed in 7 ms
2016-09-11 12:56:18,178 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,179 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,183 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:18,273 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,273 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,278 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:18,295 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,295 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,299 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:18,326 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,326 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,329 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:56:18,356 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,356 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,389 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:56:18,429 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,429 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,433 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:18,462 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,462 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,480 INFO  - FrameworkServlet '': initialization completed in 17 ms
2016-09-11 12:56:18,517 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,517 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,519 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:56:18,532 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,534 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,541 INFO  - FrameworkServlet '': initialization completed in 7 ms
2016-09-11 12:56:18,559 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,560 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,562 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:56:18,594 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,595 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,601 INFO  - FrameworkServlet '': initialization completed in 6 ms
2016-09-11 12:56:18,619 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,620 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,622 INFO  - FrameworkServlet '': initialization completed in 2 ms
2016-09-11 12:56:18,654 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,655 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,658 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:56:18,672 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,672 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,676 INFO  - FrameworkServlet '': initialization completed in 4 ms
2016-09-11 12:56:18,761 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,761 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,766 INFO  - FrameworkServlet '': initialization completed in 5 ms
2016-09-11 12:56:18,802 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,803 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,806 INFO  - FrameworkServlet '': initialization completed in 3 ms
2016-09-11 12:56:18,811 INFO  - Initializing Spring FrameworkServlet ''
2016-09-11 12:56:18,811 INFO  - FrameworkServlet '': initialization started
2016-09-11 12:56:18,812 INFO  - FrameworkServlet '': initialization completed in 1 ms
2016-09-11 12:56:18,853 INFO  - Closing org.springframework.web.context.support.GenericWebApplicationContext@6f0b0a5e: startup date [Sun Sep 11 12:56:12 EET 2016]; root of context hierarchy
2016-09-11 12:56:18,863 INFO  - Shutting down EhCache CacheManager
2016-09-11 12:56:18,873 INFO  - Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
